âœ… 2. TrÃªn mÃ¡y khÃ¡c (hoáº·c á»• khÃ¡c)
A. YÃªu cáº§u cÃ i Ä‘áº·t:
.NET 8 SDK

Docker Desktop

(TÃ¹y chá»n): Visual Studio hoáº·c Visual Studio Code

B. CÃ¡c bÆ°á»›c cháº¡y WebMieow:
ğŸ“‚ 1. Giáº£i nÃ©n hoáº·c clone project vÃ o mÃ¡y
âš™ï¸ 2. Má»Ÿ Terminal/Powershell trong thÆ° má»¥c gá»‘c project < D:\ASP.Net\WebMieow > trong chá»— Ä‘Æ°á»ng dáº«n mÃ¡y chÃ­nh Ä‘Ã¢y 
ğŸ³ 3. Cháº¡y Docker Compose <chá»— cÃ³ file docker-compose.yml> Ä‘á»ƒ khá»Ÿi Ä‘á»™ng MySQL container

docker compose up -d <lá»‡nh nÃ y Ä‘á»ƒ run docker trÆ°á»›c Ä‘á»ƒ káº¿t ná»‘i localhost >
âœ… Docker sáº½ táº¡o láº¡i container MySQL (vá»›i volume chá»©a data), cá»•ng 3306, phpMyAdmin (port 8080).

âš’ï¸ 4. Cháº¡y EF migration Ä‘á»ƒ táº¡o DB (náº¿u chÆ°a cÃ³)
dotnet ef database update
Náº¿u mÃ¡y kia chÆ°a cÃ³ DB webmieowdb, cÃ¢u lá»‡nh nÃ y sáº½ táº¡o database vÃ  báº£ng.

â–¶ï¸ 5. Cháº¡y á»©ng dá»¥ng
dotnet run
Má»Ÿ trÃ¬nh duyá»‡t truy cáº­p http://localhost:8081/ <bÃªn mÃ¡y chá»§ chÃ­nh ngÆ°á»i lÃ m web lÃ  8081, cÃ²n mÃ¡y khÃ¡c 8080 hoáº·c khÃ¡c ná»¯a > vá»›i xxxxx lÃ  port hiá»ƒn thá»‹ sau khi cháº¡y.

âš ï¸ LÆ°u Ã½ thÃªm
KhÃ´ng nÃªn hardcode á»• Ä‘Ä©a trong file .csproj, .sln, hay docker volume. HÃ£y dÃ¹ng relative path.

Náº¿u lá»—i EF trÃªn mÃ¡y khÃ¡c: Ä‘áº£m báº£o cÃ³ cÃ i EntityFramework tools
dotnet tool install --global dotnet-ef <má»Ÿ cmd trong vs khi má»Ÿ src hoáº·c trong chá»— chá»©a file prj cháº¡y cmd ghi lá»‡nh nÃ y Ä‘áº»e cÃ i>

==========================================
DS lá»‡nh cáº§n thiáº¿t khi cháº¡y web cÃ³ Docker
==========================================

ğŸ³ Docker â€“ Khá»Ÿi cháº¡y vÃ  quáº£n lÃ½ container
Khá»Ÿi Ä‘á»™ng Docker (cháº¡y project):
docker compose up -d
Cháº¡y toÃ n bá»™ dá»‹ch vá»¥ (MySQL + WebApp) á»Ÿ cháº¿ Ä‘á»™ ná»n.

Táº¯t Docker:
docker compose down
Dá»«ng táº¥t cáº£ container vÃ  gá»¡ bá» máº¡ng táº¡m thá»i (khÃ´ng xÃ³a dá»¯ liá»‡u volume).

Xem log container:
docker compose logs -f
Theo dÃµi log thá»i gian thá»±c cá»§a cÃ¡c container.

ğŸ›  Entity Framework Core â€“ Migration & Database
Táº¡o migration má»›i:
dotnet ef migrations add TenMigration
Táº¡o file migration Ä‘á»ƒ cáº­p nháº­t thay Ä‘á»•i DB tá»« model.

Cáº­p nháº­t cÆ¡ sá»Ÿ dá»¯ liá»‡u:
dotnet ef database update
Ãp dá»¥ng migration vÃ o DB tháº­t (trong Docker).

XÃ³a migration gáº§n nháº¥t:
dotnet ef migrations remove
XÃ³a migration má»›i táº¡o (náº¿u lá»¡ sai).

ğŸ§¹ Quáº£n lÃ½ database thá»§ cÃ´ng
XÃ³a háº³n database thá»§ cÃ´ng (qua phpMyAdmin hoáº·c MySQL CLI):
DROP DATABASE webmieowdb;
Chá»‰ lÃ m khi báº¡n cháº¯c cháº¯n muá»‘n reset toÃ n bá»™ database.

Táº¡o láº¡i thá»§ cÃ´ng (náº¿u cáº§n):
CREATE DATABASE webmieowdb;
Náº¿u muá»‘n chá»§ Ä‘á»™ng táº¡o láº¡i trÆ°á»›c khi update.

ğŸ§ª Kiá»ƒm tra migration hiá»‡n táº¡i
Xem danh sÃ¡ch migration Ä‘Ã£ Ã¡p dá»¥ng:
dotnet ef migrations list


Kiá»ƒm tra database Ä‘Ã£ update chÆ°a:
dotnet ef database update --verbose
In chi tiáº¿t quÃ¡ trÃ¬nh cáº­p nháº­t.

==========================================
==========================================


TrÃ¬nh bÃ y HDSD, náº¿u khÃ´ng lÃ¨m Ä‘á»±t thÃ¬ chatgpt há»— trá»£ áº¡ :>>

edit by Mieow NGuyá»…n LÃ¢m HÃ¹ng