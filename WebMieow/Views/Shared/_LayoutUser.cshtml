@using WebMieow.Models
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    var session = HttpContextAccessor.HttpContext.Session;
    var jsonUser = session.GetString("User");
    Account currentUser = null;

    if (!string.IsNullOrEmpty(jsonUser))
    {
        currentUser = System.Text.Json.JsonSerializer.Deserialize<Account>(jsonUser);
    }
}

@if (currentUser != null)
{
    <span>Xin chào, <a href="/User/Profile">@currentUser.Username</a></span>
    <a class="btn btn-danger" href="/Account/Logout">Đăng Xuất</a>
}
else
{
    <a class="btn btn-primary" href="/Account/Login">Đăng Nhập</a>
    <a class="btn btn-outline-primary" href="/Account/Register">Đăng Ký</a>
}
